# 3D 太阳系观赏网站需求草案

## 愿景
构建一个既适合教学又适合沉浸式观赏的 3D 太阳系 Web 体验，用户可在浏览器中实时探索行星、查看科学参数、回放人类探测任务。

## 核心体验
1. **交互式 3D 场景**：太阳、八大行星、主要卫星、主小行星带，支持缩放、旋转、自由漫游。
2. **时间轴控制**：控制时间倍率、播放/暂停、快进、倒带，从而观看轨道运行轨迹。
3. **信息面板**：展示天体详情、关键指标、任务时间线、纹理/图像。
4. **导览模式**：预设镜头飞行路线与讲解脚本，帮助首次访问者快速了解重点。
5. **模式切换**：观赏模式（高饱和、特效）与科学模式（真实比例、禁特效）。

## 模块划分
- `SolarSystemCanvas`：负责 Three.js/React Three Fiber 场景、光源、天空盒。
- `Planet` / `Moon` 组件：按数据驱动大小、自转、公转动画。
- `OrbitTrail`：绘制轨道轨迹线，可随时间轴更新。
- `ControlDock`：时间倍率、视角、显示层级、模式开关。
- `InfoPanel`：展示天体卡片、参数表、人类任务时间线、媒体集合。
- `StoryTour`：导览脚本、摄像机关键帧插值、字幕/语音。

## 技术栈建议
- **前端框架**：React + Vite + TypeScript。
- **3D 层**：React Three Fiber + Drei，配合 `three-stdlib` 的相机控制器。
- **状态管理**：Zustand（全局状态）+ React Query（远程数据缓存）。
- **样式系统**：Tailwind CSS 或 CSS Modules，搭配主题切换。
- **数据**：本地 JSON（天体参数、任务列表）起步，未来可接入 NASA/ESA API。
- **测试**：Vitest + React Testing Library，确保计算/状态逻辑可靠。
- **部署**：Vercel/Netlify，CI 使用 GitHub Actions 自动构建+预览环境。

## 性能与可访问性
- Instanced Mesh 渲染星空粒子与小天体，降低 draw call。
- 使用 `requestAnimationFrame` 自适应并实现 `dpr` 上限。
- 纹理按需/延迟加载，移动端启用简化材质与较低阴影等级。
- 摄像机动作提供缓动曲线与用户可控中断。
- 支持键盘快捷键、触控手势、字幕/语音提示以及高对比度模式。

## 里程碑
1. **M1**：初始化项目、搭建基本 3D 场景（太阳+行星+相机控制），落地静态数据结构。
2. **M2**：完成时间轴、信息面板、模式切换以及性能优化策略。
3. **M3**：导览模式、任务时间线、音效与 UI 打磨。
4. **M4**：可访问性、国际化、CMS/内容扩展与正式部署。
